extends ../layouts/common
block content

	.container-fluid
		h1(class="ml-3 mt-1 text-info") Users
		.d-flex
				a(href="/users/create", class="btn btn-primary ml-3 mb-3") Create
				form.form-inline.ml-auto(action='/users/search', method='GET')
					input#searchItem.form-control.mr-sm-2(name='q', type='text', placeholder='Search', aria-label='Search')
					button.btn.btn-outline-info.mr-sm-4(type='submit') Search	
		table.table
			tr
				th Name
				th Phone
				td Action

			each user in users
				tr
					td= user.name
					td= user.phone
					td
						a.btn.btn-light(href="/users/" + user.id) View


	script.
		var searchInput = document.getElementById('searchItem');
		searchInput.value = sessionStorage.getItem('draft');
		searchInput.addEventListener('change', function(){
		sessionStorage.setItem('draft', searchInput.value);
		});